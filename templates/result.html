<!DOCTYPE html>
<html>
	<head>
		<title>ДимАуг результат поиска</title>
		<link href="../static/style2.css" rel="stylesheet">
		<script type="text/javascript">
        window.addEventListener("DOMContentLoaded", function() {
            var nodes = document.querySelectorAll(".result");
            [].forEach.call(nodes, function(tr) {
                var box = [],
                    next = tr.nextElementSibling;
                while (next && next.classList.contains("box")) {
                    box.push(next);
                    next = next.nextElementSibling
                }
                tr.cells[0].addEventListener("click", function() {
                    box.forEach(function(item) {
                        item.classList.toggle("show")
                    });
                    return false
                })
            })
        });
		</script>
	</head>
	<body>
	<div class="header">
		Диминутивы и аугментативы
	</div>
	<div class="menu">
		<div class="btn-group">
			<a href="/index" class="button2">главная</a>
			<a href="/search" class="button2">расширенный поиск</a>
			<a href="/rules" class="button2">правила</a>
			<a class="button2">тренажёры</a>
		</div>
	</div>
	<div class="lemform">
		<form action = "http://localhost:5000/result" method = "POST">
			Поиск по форме слова: <input type='text' name='lem'>
			<input class='button' type='reset' value='Очистить'>
			<input class='button' type='submit' value='Поиск'>
		 </form>
	</div>
	<div class="main">
		{% if lemma != '' %}
			Результат для формы <i>{{ lemma }}</i>
			<br>
			{% if form == () %}
				<h3>Форма не найдена</h3>
			{% else %}
				<br>
				<table>
					<th></th><th>Тип</th><th>Лексема</th><th>Суффикс</th><th>Значение суффикса</th>
				{% for lemtype, lexeme, suffix, tag, descr in form %}
					<tr class='result'>
						<td class='plus'><a href="#"> +</a></td>
						<td> {% if lemtype == 'd' %} диминутив {% else %} аугментатив {% endif %}</td>
						<td> {{ lexeme }} </td>
						<td> {{ suffix }} </td>
						<td> {{ tag }} </td>
					</tr>
					<tr class='box'>
						<td colspan = "5"> {{ descr }} </td>
					</tr>
				{% endfor %}
				</table>
			{% endif %}
		{% else %}
			Формы от лексемы <i>{{ lexeme }}</i>
			<br>
			{% if dim == () and aug == () %}
				<h3>Не найдено</h3>
			{% endif %}
			{% if dim != () %}
				<br>Диминутивы:
				<br><br>
				<table>
					<th></th><th>Лемма</th><th>Суффикс</th><th>Значение суффикса</th>
				{% for lemma, suffix, tag, descr in dim %}
					<tr class='result'>
						<td class='plus'><a href="#"> +</a></td>
						<td> {{ lemma }} </td>
						<td> {{ suffix }} </td>
						<td> {{ tag }} </td>
					</tr>
					<tr class='box'>
						<td colspan = "5"> {{ descr }} </td>
					</tr>
				{% endfor %}
				</table>
			{% endif %}
			{% if aug != () %}
				<br> Аугментативы:
				<br><br>
				<table>
					<th></th><th>Лемма</th><th>Суффикс</th><th>Значение суффикса</th>
				{% for lemma, suffix, tag, descr in aug %}
					<tr class='result'>
						<td class='plus'><a href="#"> +</a></td>
						<td> {{ lemma }} </td>
						<td> {{ suffix }} </td>
						<td> {{ tag }} </td>
					</tr>
					<tr class='box'>
						<td colspan = "5"> {{ descr }} </td>
					</tr>
				{% endfor %}
				</table>
			{% endif %}
		{% endif %}
	</div>
	</body>
</html>
